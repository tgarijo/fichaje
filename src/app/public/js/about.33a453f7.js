(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1511:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v("Usuarios")]),s("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")]),s("b-card",{attrs:{"bg-variant":"light"}},[t.editForm?s("form",{on:{submit:function(e){return e.preventDefault(),t.updateUser(t.userEdit)}}},[s("h3",[t._v("Editar usuario")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userEdit.firstName,expression:"userEdit.firstName"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.userEdit.firstName},on:{input:function(e){e.target.composing||t.$set(t.userEdit,"firstName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userEdit.lastName,expression:"userEdit.lastName"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Apellidos"},domProps:{value:t.userEdit.lastName},on:{input:function(e){e.target.composing||t.$set(t.userEdit,"lastName",e.target.value)}}}),s("div",[s("b-form-select",{attrs:{options:t.options},model:{value:t.userEdit.active,callback:function(e){t.$set(t.userEdit,"active",e)},expression:"userEdit.active"}})],1),s("b-button",{staticClass:"btn-warning my-2 btn-block",attrs:{type:"submit"}},[t._v("Editar")]),s("b-button",{staticClass:"my-2",on:{click:function(e){t.editForm=!1}}},[t._v("Cancelar")])],1):t._e(),t.editForm?t._e():s("form",{on:{submit:function(e){return e.preventDefault(),t.addNewUser()}}},[s("h3",[t._v("Agregar nuevo usuario")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Apellidos"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}}),s("b-form-select",{attrs:{options:t.options},model:{value:t.user.active,callback:function(e){t.$set(t.user,"active",e)},expression:"user.active"}}),s("b-button",{staticClass:"btn-success my-2 btn-block",attrs:{type:"submit"}},[t._v("Agregar")])],1)]),s("table",{staticClass:"table my-5"},[t._m(0),s("tbody",t._l(t.users,(function(e,r){return s("tr",{key:r},[s("th",{staticClass:"hidden",attrs:{scope:"row"}},[t._v(t._s(e._id))]),s("td",[t._v(t._s(e.firstName))]),s("td",[t._v(t._s(e.lastName))]),s("td",[t._v(t._s(t._f("formatDate")(e.creationDate)))]),s("td",[t._v(t._s(e.active))]),s("td",[s("b-button",{staticClass:"btn-danger btn-sm mx-2",on:{click:function(s){return t.deleteUser(e._id)}}},[t._v("Eliminar")]),s("b-button",{staticClass:"btn-warning btn-sm",on:{click:function(s){return t.editUser(e._id)}}},[t._v("Editar")])],1)])})),0)])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"hidden",attrs:{scope:"col"}},[t._v("#")]),s("th",{attrs:{scope:"col"}},[t._v("Nombre")]),s("th",{attrs:{scope:"col"}},[t._v("Apellidos")]),s("th",{attrs:{scope:"col"}},[t._v("Fecha de Creacion")]),s("th",{attrs:{scope:"col"}},[t._v("Activo")]),s("th",{attrs:{scope:"col"}},[t._v("Accion")])])])}],a=(s("c740"),s("a434"),{data:function(){return{user:{firstName:"",lastName:"",active:"true"},users:[],userEdit:{},editForm:!1,dismissSecs:5,dismissCountDown:0,mensaje:{color:"",texto:""},options:[{value:"true",text:"Activado",selected:!0},{value:"false",text:"Desactivado"}]}},created:function(){this.listUsers()},methods:{listUsers:function(){var t=this;this.axios.get("/user").then((function(e){t.users=e.data})).catch((function(t){console.log(t.response)}))},addNewUser:function(){var t=this;this.axios.post("/new-user",this.user).then((function(e){t.users.push(e.data),t.alertSuccess("Usuario Grabado"),t.user.firstName="",t.user.lastName="",t.user.active="true"})).catch((function(e){console.log("addNewUser",e.response),e.response.data.error.errors.firstName.message&&t.alertError(e.response.data.error.errors.firstName.message)}))},deleteUser:function(t){var e=this;console.log("Eliminar:",t),this.axios.delete("/user/".concat(t)).then((function(t){var s=e.users.findIndex((function(e){return e._id===t.data._id}));e.users.splice(s,1),e.alertSuccess("Usuario eliminado")})).catch((function(t){console.log(t),e.alertError("Ha ocurrido un error al borrar usuario")}))},editUser:function(t){var e=this;console.log(t),this.editForm=!0,this.axios.get("/user/".concat(t)).then((function(t){e.userEdit=t.data})).catch((function(t){console.log(t)}))},updateUser:function(t){var e=this;this.axios.put("/user/".concat(t._id),t).then((function(t){var s=e.users.findIndex((function(e){return e._id===t.data._id}));e.users[s].firstName=t.data.firstName,e.users[s].lastName=t.data.lastName,e.users[s].active=t.data.active,e.editForm=!1,e.alertSuccess("Usuario editado")})).catch((function(t){console.log(t),e.alertError("Ha ocurrido un error al actualizar el usuario")}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},alertSuccess:function(t){this.mensaje.color="success",this.mensaje.texto=t,this.showAlert()},alertError:function(t){this.mensaje.color="danger",this.mensaje.texto=t,this.showAlert()}}}),o=a,i=(s("e8c3"),s("2877")),c=Object(i["a"])(o,r,n,!1,null,null,null);e["default"]=c.exports},"1be4":function(t,e,s){var r=s("d066");t.exports=r("document","documentElement")},"37e8":function(t,e,s){var r=s("83ab"),n=s("9bf2"),a=s("825a"),o=s("df75");t.exports=r?Object.defineProperties:function(t,e){a(t);var s,r=o(e),i=r.length,c=0;while(i>c)n.f(t,s=r[c++],e[s]);return t}},"44d2":function(t,e,s){var r=s("b622"),n=s("7c73"),a=s("9bf2"),o=r("unscopables"),i=Array.prototype;void 0==i[o]&&a.f(i,o,{configurable:!0,value:n(null)}),t.exports=function(t){i[o][t]=!0}},"7be2":function(t,e,s){},"7c73":function(t,e,s){var r,n=s("825a"),a=s("37e8"),o=s("7839"),i=s("d012"),c=s("1be4"),u=s("cc12"),l=s("f772"),d=">",f="<",m="prototype",v="script",p=l("IE_PROTO"),h=function(){},b=function(t){return f+v+d+t+f+"/"+v+d},_=function(t){t.write(b("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){var t,e=u("iframe"),s="java"+v+":";return e.style.display="none",c.appendChild(e),e.src=String(s),t=e.contentWindow.document,t.open(),t.write(b("document.F=Object")),t.close(),t.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=r?_(r):g();var t=o.length;while(t--)delete w[m][o[t]];return w()};i[p]=!0,t.exports=Object.create||function(t,e){var s;return null!==t?(h[m]=n(t),s=new h,h[m]=null,s[p]=t):s=w(),void 0===e?s:a(s,e)}},8418:function(t,e,s){"use strict";var r=s("c04e"),n=s("9bf2"),a=s("5c6c");t.exports=function(t,e,s){var o=r(e);o in t?n.f(t,o,a(0,s)):t[o]=s}},a434:function(t,e,s){"use strict";var r=s("23e7"),n=s("23cb"),a=s("a691"),o=s("50c4"),i=s("7b0b"),c=s("65f0"),u=s("8418"),l=s("1dde"),d=Math.max,f=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l("splice")},{splice:function(t,e){var s,r,l,p,h,b,_=i(this),g=o(_.length),w=n(t,g),x=arguments.length;if(0===x?s=r=0:1===x?(s=0,r=g-w):(s=x-2,r=f(d(a(e),0),g-w)),g+s-r>m)throw TypeError(v);for(l=c(_,r),p=0;p<r;p++)h=w+p,h in _&&u(l,p,_[h]);if(l.length=r,s<r){for(p=w;p<g-r;p++)h=p+r,b=p+s,h in _?_[b]=_[h]:delete _[b];for(p=g;p>g-r+s;p--)delete _[p-1]}else if(s>r)for(p=g-r;p>w;p--)h=p+r-1,b=p+s-1,h in _?_[b]=_[h]:delete _[b];for(p=0;p<s;p++)_[p+w]=arguments[p+2];return _.length=g-r+s,l}})},c740:function(t,e,s){"use strict";var r=s("23e7"),n=s("b727").findIndex,a=s("44d2"),o="findIndex",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},df75:function(t,e,s){var r=s("ca84"),n=s("7839");t.exports=Object.keys||function(t){return r(t,n)}},e8c3:function(t,e,s){"use strict";var r=s("7be2"),n=s.n(r);n.a},f820:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("This is an about page")])])}],a=s("2877"),o={},i=Object(a["a"])(o,r,n,!1,null,null,null);e["default"]=i.exports}}]);
//# sourceMappingURL=about.33a453f7.js.map